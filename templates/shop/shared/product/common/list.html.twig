{% if products %}
<div class="container mb-6"  {{ stimulus_controller('synerise-events', {onConnect: 'recommendationView', campaignId, correlationId, products: products|map(p => p.code)}) }}>
    <h2 class="mb-5">{{ hookable_metadata.configuration.title|default('sylius.ui.latest_products')|trans }}</h2>

    <div {{ sylius_test_html_attribute(hookable_metadata.configuration.test_attribute|default('products')) }}>
        <div class="products-grid">
            {% for product in products %}
                <div data-action="click->synerise-events#recommendationClick" data-synerise-events-item-param="{{product.code}}">{{ component('sylius_shop:product:card', { product: product, template: '@SyliusShop/product/common/card.html.twig' }) }}</div>
            {% endfor %}
        </div>
    </div>
</div>
{% endif %}
