{% set id = options.link.parameters['id']|default(data.id)  %}

{% if options.link.url is defined %}
    {% set path = options.link.url %}
{% else %}
    {% set default_route = options.link.route|default(grid.requestConfiguration is defined ? grid.requestConfiguration.getRouteName('delete') : null) %}
    {% set path = options.link.url|default(default_route ? path(default_route, options.link.parameters|default({'id': data.id})): null) %}
{% endif %}

{% set disabled = path is empty %}

{% component 'sylius_admin:delete_modal' with {id: id, path: path, label: action.label, icon: action.icon, disabled: disabled} %}
    {% import '@SyliusAdmin/shared/helper/button.html.twig' as button %}
    {% block content %}
        <div class="modal-content">
            <div class="modal-header">
                {% block header %}
                    <h1 class="modal-title py-5">
                        {{ ux_icon('mdi:warning-octagon-outline', {class: 'icon text-danger'}) }}
                        {{ 'synerise_integration.channel_configuration.actions.delete.header'|trans }}
                    </h1>
                {% endblock %}
            </div>
            <div class="modal-body">
                {% block body %}
                    {{ 'synerise_integration.channel_configuration.actions.delete.body'|trans }}
                {% endblock %}
            </div>

            <div class="modal-footer">
                {% block footer %}
                    <form action="{{ path }}" method="post" {{ form_attr }}>
                        <input type="hidden" name="_method" value="DELETE">
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token(id) }}" />

                        {{ button.default({ text: 'sylius.ui.cancel'|trans, attr: 'data-bs-dismiss=modal' }) }}
                        {{ button.default({ text: label|trans, type: 'submit', class: 'btn-danger', attr: sylius_test_html_attribute('confirm-button') }) }}
                    </form>
                {% endblock %}
            </div>
        </div>
    {% endblock %}
{% endcomponent %}
